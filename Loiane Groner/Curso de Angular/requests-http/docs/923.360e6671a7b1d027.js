"use strict";(self.webpackChunkrequests_http=self.webpackChunkrequests_http||[]).push([[923],{7923:(J,v,o)=>{o.r(v),o.d(v,{ReactiveSearchModule:()=>c});var d=o(433),f=o(6895),g=o(4004),T=o(9300),U=o(4986),b=o(4482),C=o(5403),O=o(4671);function F(n,e){return n===e}var M=o(3900),y=o(8505),t=o(1571),R=o(529);function L(n,e){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const i=e.$implicit;t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Oqu(i.version)}}class h{constructor(e){this.http=e,this.queryField=new d.NI,this.SEARCH_URL="https://api.cdnjs.com/libraries",this.FIELDS="?fields=name,description,version,homepage&search="}ngOnInit(){this.results$=this.queryField.valueChanges.pipe((0,g.U)(e=>e.trim()),(0,T.h)(e=>e.lenght>1),function A(n,e=U.z){return(0,b.e)((i,a)=>{let s=null,l=null,p=null;const m=()=>{if(s){s.unsubscribe(),s=null;const u=l;l=null,a.next(u)}};function E(){const u=p+n,Z=e.now();if(Z<u)return s=this.schedule(void 0,u-Z),void a.add(s);m()}i.subscribe((0,C.x)(a,u=>{l=u,p=e.now(),s||(s=e.schedule(E,n),a.add(s))},()=>{m(),a.complete()},void 0,()=>{l=s=null}))})}(200),function x(n,e=O.y){return n=n??F,(0,b.e)((i,a)=>{let s,l=!0;i.subscribe((0,C.x)(a,p=>{const m=e(p);(l||!n(s,m))&&(l=!1,s=m,a.next(p))}))})}(),(0,M.w)(e=>this.http.get(this.SEARCH_URL,{params:{search:e,fields:this.FIELDS}})),(0,y.b)(e=>this.total=e.total),(0,g.U)(e=>e.results))}onSearch(){let e=this.queryField.value;e&&""!==e.trim()&&(e=e.trim()),this.results$=this.http.get(this.SEARCH_URL+"?fields=name,description,version,homepage&search="+e).pipe((0,y.b)(i=>this.total=i.total),(0,g.U)(i=>i.results))}}h.\u0275fac=function(e){return new(e||h)(t.Y36(R.eN))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-lib-search"]],decls:21,vars:5,consts:[[1,"container","search-table"],[1,"search-box"],[1,"row"],[1,"col-md-9"],["type","text","id","myInput","placeholder","Pesquisar lib",1,"form-control",3,"formControl"],[1,"col-auto",2,"vertical-align","autos"],[1,"btn","btn-primary",3,"click"],[1,"search-list"],["id","myTable",1,"table"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"input",4),t.qZA(),t.TgZ(5,"div",5)(6,"button",6),t.NdJ("click",function(){return i.onSearch()}),t._uU(7,"Pesquisar"),t.qZA()()()(),t.TgZ(8,"div",7)(9,"h3"),t._uU(10),t.qZA(),t.TgZ(11,"table",8)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"T\xedtulo"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Vers\xe3o"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,L,5,2,"tr",9),t.ALo(20,"async"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formControl",i.queryField),t.xp6(6),t.hij("",i.total," resultados encontrados"),t.xp6(9),t.Q6J("ngForOf",t.lcZ(20,3,i.results$)))},dependencies:[f.sg,d.Fj,d.JJ,d.oH,f.Ov],styles:[".search-table[_ngcontent-%COMP%]{padding:10%;margin-top:-6%}.search-box[_ngcontent-%COMP%]{border:1px solid #ababab;padding:3%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border:2px solid #eeeeee}.search-list[_ngcontent-%COMP%]{background:#fff;border:1px solid #ababab;border-top:none}.search-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background:#eee;padding:3%;margin-bottom:0%}"]});var S=o(883);const P=[{path:"",component:h}];class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[S.Bz.forChild(P),S.Bz]});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[f.ez,r,d.UX]})}}]);